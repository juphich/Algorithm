import sys

readl = lambda:sys.stdin.readline().strip()

criterion = 0
pathCache = []

def init(n) :
    global pathCache
    pathCache = []
    diamond = []
    for i in range(2*n - 1) :
        pathCache.append([-1]*n)
        diamond.append([0]*n)
        print(pathCache[i])
    return diamond
    

def path(diamond, row, col):
    global pathCache

    print("row : %d, col : %d " % (row, col))
    if row == (len(diamond)-1) : return diamond[row][col]
    
    result = pathCache[row][col]
    if (result > -1) : return result
    
    if (row <= criterion) :
        leftCol = col
        rightCol = col + 1
    else :
        leftCol = col - 1
        rightCol = col
    
    left = 0
    right = 0
    if (leftCol > -1) :
        left = path(diamond, row+1, leftCol) + diamond[row][col]
    if (rightCol < criterion):
        right = path(diamond, row+1, rightCol) + diamond[row][col]

    print("left : %d, right : %d" % (left, right))
    if (left >= right) :
        result = left
    else :
        result = right
    
    pathCache[row][col] = result
    print("=> row : %d , col : %d , path : %d" % (row, col, result))
    return result;

testCases = int(readl())

for i in range(testCases):
    global criterion

    criterion = int(readl())
    diamond = init(criterion)
    
    for r in range(len(diamond)):
        cols = readl().split()
        for c in range(len(cols)) :
            diamond[r][c] = int(cols[c])
    
    result = path(diamond, 0, 0)
    print(result)
